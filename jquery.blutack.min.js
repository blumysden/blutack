(function(){"use strict";function t(t){return t.data("tackProps")}function i(t,i){t.data("tackProps",i)}function o(o){if(!t(l(this))){var n=l(this),e=o.offsetTop,f=n.offset(),a=f.top-e,r=n.css("position")||"static",h={offsetTop:e,offsetLeft:"static"!=r?f.left:"auto",tackAt:a,proxyId:k+g,initial:{position:r,width:o.freezeWidth?n.css("width"):"auto",top:n.css("top")||"auto",right:n.css("right"),left:n.css("left")}};i(n,h),p[a]?p[a].free.push(n):p[a]={free:[n],tacked:[]},g+=1,w+=1,1!=w||x||(x=!0,c()),s()}}function n(){var o,n=l(this),e=t(n)||{},s=n.hasClass(v)?"tacked":"free",a=p[e.tackAt];if(a)for(o=a[s].length-1;o>=0;o--)if(a[s][o].get(0)==this){a[s].splice(o,1),f(n),i(n,null),w-=1,l("#"+e.proxyId).remove();break}}function e(i){var o=t(i),n=l("#"+o.proxyId);n.length||(n=l('<div id="'+o.proxyId+'"></div>'),n.height(o.height),n.insertBefore(i)),n.show(),i.css({position:"fixed",top:o.offsetTop,width:a(i),left:o.offsetLeft,right:"auto"}).addClass(v)}function f(i){var o=t(i);l("#"+o.proxyId).hide(),i.css(o.initial).removeClass(v)}function s(t){var i,o,n,s,a,r,c=l(window).scrollTop(),h=t&&void 0!==u?c>u?"down":"up":null;if(t&&(u=c),!w)return!1;for(a in p)if(p.hasOwnProperty(a))if(i=p[a],n=i.tacked,s=i.free,"up"!=h&&c>a&&!i.fixing){for(i.fixing=!0,r=s.length-1;r>=0;r--)o=s.pop(),e(o),n.push(o);i.fixing=!1}else if("down"!=h&&a>=c&&!i.fixing){for(i.fixing=!0,r=n.length-1;r>=0;r--)o=n.pop(),f(o),s.push(o);i.fixing=!1}}function a(i){var o=t(i),n="auto"!=o.initial.width?o.initial.width:i.parent().width()-(i.outerWidth()-i.width());i.width(n)}function r(){var t,i;for(t in p)for(i=p[t].tacked.length-1;i>=0;i--)a(p[t].tacked[i])}function c(){w&&(l(window).scroll(s),l("body").on("orientationchange",function(){r(),s()}).on("touchend",function(){s()}))}function h(t,i){var o,n,e,f,s,a={offsetTop:0,freezeWidth:!1},r=(l(t).data("blutack-options")||"").split(";"),c={};for(s=r.length-1;s>=0;s--)o=r[s].split(":"),2==o.length&&(n=l.trim(o[0]),void 0!==a[n]&&(e=l.trim(o[1]),f=e.match(/d+/),f&&f.length==e.length?e=Number(e):"false"===e?e=!1:"true"===e&&(e=!0),c[n]=e));return l.extend({},a,c,i)}var u,d=this,l=d.jQuery,p={},g=0,k="blutack-proxy-",v="blutacked",w=0,x=!1;return l.fn.blutack?!1:(l.fn.blutack=function(t){return"remove"==t?this.each(function(){n.apply(this)}):"tacked"==t?this.hasClass(v):this.each(function(){o.apply(this,[h(this,t)])})},l(document).ready(function(){l(".blutack").blutack()}),void 0)}).call(this);